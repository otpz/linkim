<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <%- include('./partials/head'); %>
    <title>Profil</title>
</head>
<body class="w-full bg-body flex flex-col items-center">

    <%- include('./partials/navbar'); %>
    
    <main class="w-110 min-h-125 flex flex-col items-center p-4 mt-28">

        <div class="user-avatar">
            <img src="/public/assets/img/avatar.png" alt="">
        </div>

        <div class="user-info">
            <span class="block text-2xl font-bold text-gray-700"><%= user.Name %></span>
            <a class="block text-xs font-semibold text-gray-600 mt-1" href="@<%=user.UserName%>">@<%= user.UserName %></a>
            <span class="block text-xs font-semibold text-gray-600 mt-1"><%= user.Biography %></span>
            <span class="block text-xs font-semibold text-gray-600 mt-2"><%= user.JoinDate %> Tarihinde Katıldı</span>
        </div>

        <div class="user-links">
            <% if (user.Links.length > 0) { %>
                <ul class="list">
                    <% for(let i = 0; i < user.Links.length; i++) { %>
                        <li class="mt-2 select-none" id="link" number="<%=user.Links[i].Id%>">
                            <% if (locals.verifiedUrl === user.UserName) { %>
                                <span number="<%=user.Links[i].Id%>" id="move" class="left-10 select-none cursor-move w-12 h-full flex items-center justify-center rounded-l-md" href="#">
                                    <svg class="w-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#fff" d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>
                                </span>
                            <% } %>
                                <a id="address" class=" select-none w-full h-full flex justify-center items-center text-ellipsis whitespace-nowrap overflow-hidden" target="_blank" href="<%=user.Links[i].LinkUrl%>">
                                    <%= user.Links[i].Title %>
                                </a>
                            <% if (locals.verifiedUrl === user.UserName) { %>
                                <a number="<%=user.Links[i].Id%>" id="delete" class="select-none  hover:bg-purple-600 transition-all w-12 h-full flex items-center justify-center rounded-r-md" href="#">
                                    <svg class="w-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.<path fill="#fff" d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"/></svg>
                                </a>
                            <% } %>
                        </li>
                    <% } %>
                </ul>
            <% } else { %>
                <span class="text-gray-600 mt-2">Henüz hiç link eklenmemiş.</span>
            <% } %>
        </div>

        <% if (locals.verifiedUrl === user.UserName) { %>
            <button id="add-new-link" class="w-full h-10 text-center flex justify-center items-center px-4 bg-gray-700 text-white rounded-md cursor-pointer"><span class="text-xl mr-2">+</span> Yeni Ekle</button>
        <% } %>


        <form id="new-link-form" class="form mt-5 hidden opacity-0 transition-all duration-500" onsubmit="addLink(event)" action="">
            <div class="form-div w-full">
                <label class="form-label" for="title">Başlık</label>
                <input class="form-input py-2 px-3" type="text" placeholder="LinkedIn" name="title">
            </div>
            <div class="form-div w-full">
                <label class="form-label" for="url">URL Adresi</label>
                <input class="form-input py-2 px-3" type="url" placeholder="" name="url">
            </div>
            <div class="flex items-center justify-between w-full">
                <button class="w-2/5 h-10 border-1 border-gray-600 mt-2 hover:bg-gray-600 hover:text-white transition-all duration-200 rounded-md">
                    Gönder
                </button>
                <span id="cancel-form" class="w-2/5 h-10 text-center flex justify-center items-center px-4 text-gray-700 rounded-md cursor-pointer">
                    İptal
                </span>
            </div>
        </form>

        <div class="w-full h-[0.5px] bg-gray-400 mt-6"></div>

        <form class="form w-full items-start" action="">
            <textarea class=" bg-body outline-none w-full mt-2 placeholder:text-gray-700 border-b-1 border-gray-400" name="" id="" rows="5" placeholder="Birşeyler yaz."></textarea>
            <button class="w-2/5 h-10 border-1 border-gray-600 mt-2 hover:bg-gray-600 hover:text-white transition-all duration-200 rounded-md">Gönder</button>
        </form>
    </main>

    <script type="text/javascript" src="/js/app.js"></script>
    <script type="text/javascript" src="/js/dom.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>
</body>
</html>